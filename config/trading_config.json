{
    "version": "EAS_Hybrid_2025_v1.0",
    "last_updated": "2025-01-18T10:00:00Z",
    "description": "Configuración de Trading - Sistema EAS Híbrido 2025 para XAUUSD con Infraestructura Avanzada",
    
    "instrument_specs": {
      "primary_symbol": "XAUUSD",
      "secondary_symbols": [],
      "trading_session": "NY_OPEN",
      "session_hours": {
        "london_ny_overlap": "13:00-17:00 GMT",
        "ny_open_optimal": "09:30-11:30 ET",
        "active_session": "09:30-11:30 ET"
      }
    },
    
    "immutable_rules": {
      "risk_per_trade": 0.3,
      "max_consecutive_losses": 2,
      "min_confidence": 0.75,
      "risk_reward_ratio": 2.0,
      "trading_sessions": ["NY_OPEN"],
      "allowed_instruments": ["XAUUSD"],
      "timeframes": ["M15", "H1", "D1"],
      "session_start": "09:30",
      "session_end": "11:30",
      "timezone": "America/New_York"
    },
  
    "core_rules": {
      "risk_per_trade": 0.3,
      "max_consecutive_losses": 2,
      "risk_reward_ratio": 2.0,
      "max_daily_risk": 1.0,
      "max_trades_per_day": 20,
      "trading_hours": 2,
      "premarket_duration_hours": 1,
      "breakeven_ratio": 1.5,
      "vix_spike_threshold": 25.0,
      "dxy_spike_threshold": 105.0,
      "real_yields_threshold": 2.0,
      "min_confidence": 0.75
    },
    
    "infrastructure": {
      "circuit_breaker": {
        "enabled": true,
        "circuit_types": {
          "mt5_connection": {
            "failure_threshold": 2,
            "recovery_timeout": 120,
            "base_delay": 0.1,
            "max_delay": 2.0
          },
          "order_execution": {
            "failure_threshold": 3,
            "recovery_timeout": 180,
            "base_delay": 0.05,
            "max_delay": 1.0
          },
          "data_feed": {
            "failure_threshold": 4,
            "recovery_timeout": 300,
            "base_delay": 0.2,
            "max_delay": 3.0
          },
          "ia_validation": {
            "failure_threshold": 2,
            "recovery_timeout": 60,
            "base_delay": 0.1,
            "max_delay": 2.0
          }
        },
        "global_emergency_timeout": 30,
        "enable_prometheus_metrics": true
      },
  
      "exponential_backoff": {
        "enabled": true,
        "strategies": {
          "trade_execution": {
            "max_retries": 2,
            "base_delay": 0.05,
            "max_delay": 1.0,
            "strategy": "AGGRESSIVE",
            "timeout": 2.0
          },
          "market_data": {
            "max_retries": 3,
            "base_delay": 0.1,
            "max_delay": 3.0,
            "strategy": "EXPONENTIAL",
            "timeout": 5.0
          },
          "ia_validation": {
            "max_retries": 2,
            "base_delay": 0.2,
            "max_delay": 2.0,
            "strategy": "LINEAR",
            "timeout": 3.0
          }
        },
        "critical_errors": [
          "insufficient margin",
          "invalid stops",
          "market closed",
          "trade disabled",
          "not enough money",
          "invalid price"
        ]
      },
  
      "guardrails": {
        "enabled": true,
        "jailbreak_detection": true,
        "risk_override_detection": true,
        "token_limit": 1000,
        "context_relevance_check": true,
        "output_validation": true,
        "validation_schema": {
          "risk_multiplier_min": 1.0,
          "risk_multiplier_max": 1.5,
          "validation_score_min": 0.0,
          "validation_score_max": 1.0,
          "allowed_decisions": ["APPROVE", "REJECT", "DEFER", "KILL_SWITCH"]
        }
      },
  
      "health_monitor": {
        "enabled": true,
        "check_interval_sec": 5,
        "alert_channels": ["TELEGRAM", "EMAIL", "PUSH"],
        "risk_thresholds": {
          "drawdown_alert": 0.6,
          "volatility_spike": 2.5,
          "error_spike": 0.05,
          "ia_confidence_drop": 0.7,
          "latency_spike": 100.0,
          "memory_alert": 85.0
        },
        "zscore_thresholds": {
          "drawdown_zscore": 2.0,
          "error_zscore": 2.5,
          "latency_zscore": 3.0
        },
        "components_to_monitor": [
          "ExecutionEngine",
          "RiskManager", 
          "IA_Validation",
          "DataCollector",
          "MarketData",
          "SignalGenerator",
          "CircuitBreaker",
          "Guardrails"
        ]
      }
    },
    
    "timeframe_config": {
      "primary_timeframe": "M15",
      "secondary_timeframes": ["H1", "D1"],
      "weight_distribution": {
        "M15": 0.4,
        "H1": 0.3,
        "D1": 0.3
      },
      "data_refresh_rate_ms": 1000
    },
    
    "trading_style": {
      "style": "HIGH_FREQUENCY_SCALPING",
      "avg_trade_duration_min": 2,
      "max_trade_duration_min": 15,
      "max_daily_trades": 20,
      "cooldown_between_trades_sec": 30
    },
    
    "signal_generation": {
      "primary_pattern": "BOS_RETEST",
      "secondary_patterns": ["LIQUIDITY_SWEEP", "ORDERBLOCK"],
      "pattern_confidence_threshold": 0.75,
      "volume_confirmation_required": true,
      "multi_timeframe_confirmation": true,
      "require_immutable_validation": true,
      
      "bos_retest_params": {
        "liquidity_sweep_required": true,
        "orderblock_retest_required": true,
        "retest_confidence_threshold": 0.8,
        "max_retest_distance_pips": 2.5
      },
      
      "liquidity_sweep_params": {
        "sweep_depth_pips": 3.0,
        "sweep_volume_multiplier": 1.5,
        "rejection_required": true
      },
  
      "confidence_thresholds": {
        "min_confidence": 75,
        "optimal_confidence": 85,
        "high_confidence": 80
      }
    },
    
    "entry_execution": {
      "entry_type": "LIMIT_ORDER",
      "max_slippage_pips": 0.5,
      "max_requotes": 2,
      "execution_timeout_ms": 5000,
      "partial_fills_allowed": false,
      
      "limit_order_params": {
        "offset_from_signal_pips": 0.2,
        "expiration_minutes": 5,
        "fill_or_kill": true
      }
    },
    
    "exit_management": {
      "take_profit_type": "FIXED_RR",
      "stop_loss_type": "STRUCTURE_BASED",
      
      "fixed_rr_params": {
        "risk_reward_ratio": 2.0,
        "min_acceptable_rr": 1.5
      },
      
      "structure_based_sl": {
        "beyond_liquidity_sweep": true,
        "beyond_orderblock": true,
        "additional_buffer_pips": 0.5
      },
      
      "trailing_stop": {
        "enabled": false,
        "activation_pips": 5.0,
        "trailing_step_pips": 1.0
      },
      
      "break_even": {
        "enabled": true,
        "activation_pips": 5.0,
        "move_to_break_even": true
      }
    },
    
    "session_filters": {
      "news_filter": {
        "enabled": true,
        "pre_news_buffer_min": 15,
        "post_news_buffer_min": 15,
        "critical_events": ["FED_RATE_DECISION", "NFP_REPORT", "CPI_DATA"]
      },
      
      "volatility_filter": {
        "enabled": true,
        "max_atr_multiplier": 3.0,
        "min_atr_multiplier": 0.5,
        "volatility_timeframe": "H1"
      },
      
      "spread_filter": {
        "enabled": true,
        "max_allowed_spread_pips": 3.0,
        "typical_spread_pips": 0.15
      },
      
      "time_filter": {
        "enabled": true,
        "trading_days": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
        "session_start": "09:30",
        "session_end": "11:30",
        "timezone": "America/New_York"
      },
  
      "immutable_session_filter": {
        "enabled": true,
        "required_session": "NY_OPEN",
        "validate_with_core": true
      }
    },
    
    "performance_limits": {
      "daily_loss_limit_percent": 1.0,
      "weekly_loss_limit_percent": 3.0,
      "monthly_loss_limit_percent": 6.0,
      "max_consecutive_losses": 2,
      "daily_trade_limit": 25,
      "hourly_trade_limit": 8
    },
  
    "analysis_config": {
      "min_trend_strength": 0.4,
      "max_pullback_depth": 0.005,
      "min_structure_quality": 0.6,
      "timeframe_alignment_required": true,
      "session_filtering": true,
      "require_immutable_validation": true,
      
      "market_structure_analysis": {
        "cache_duration_sec": 30,
        "max_fvg_zones": 10,
        "max_order_blocks": 15,
        "min_pattern_quality": 0.3
      }
    },
    
    "system_behavior": {
      "auto_restart_on_crash": true,
      "health_check_interval_sec": 30,
      "log_level": "INFO",
      "debug_mode": false,
      "paper_trading": false,
      "immutable_core_enabled": true,
      "validate_with_immutable_config": true,
      "infrastructure_enabled": true
    },
  
    "metrics_tracking": {
      "track_immutable_validations": true,
      "track_circuit_breaker": true,
      "track_health_metrics": true,
      "track_guardrail_violations": true,
      "track_backoff_metrics": true,
      "update_interval_sec": 30
    }
  }